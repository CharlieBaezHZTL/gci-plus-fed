!function (e) { var n, t = this || (0, eval)("this"), a = t.document, r = t.navigator, i = t.jQuery, o = t.JSON; n = function (n, u) { function c(e, n) { return (null === e || typeof e in E) && e === n } function s(n, t) { var a; return function () { a || (a = k.a.setTimeout(function () { a = e, n() }, t)) } } function l(e, n) { var t; return function () { clearTimeout(t), t = k.a.setTimeout(e, n) } } function f(e, n) { n && n !== T ? "beforeChange" === n ? this.Ob(e) : this.Ja(e, n) : this.Pb(e) } function d(e, n) { null !== n && n.k && n.k() } function p(e, n) { var t = this.Mc, a = t[D]; a.T || (this.ob && this.Oa[n] ? (t.Sb(n, e, this.Oa[n]), this.Oa[n] = null, --this.ob) : a.s[n] || t.Sb(n, e, a.t ? { $: e } : t.yc(e)), e.Ha && e.Hc()) } function h(e, n, t, a) { k.d[e] = { init: function (e, r, i, o, u) { var c, s; return k.m(function () { var i = r(), o = k.a.c(i), l = (o = !t != !o, !s); (l || n || o !== c) && (l && k.xa.Ca() && (s = k.a.wa(k.f.childNodes(e), !0)), o ? (l || k.f.fa(e, k.a.wa(s)), k.hb(a ? a(u, i) : u, e)) : k.f.za(e), c = o) }, null, { i: e }), { controlsDescendantBindings: !0 } } }, k.h.va[e] = !1, k.f.aa[e] = !0 } var b, v, g, m, y, w, x, k = void 0 !== n ? n : {}; k.b = function (e, n) { for (var t = e.split("."), a = k, r = 0; r < t.length - 1; r++)a = a[t[r]]; a[t[t.length - 1]] = n }, k.H = function (e, n, t) { e[n] = t }, k.version = "3.4.2", k.b("version", k.version), k.options = { deferUpdates: !1, useOnlyNativeEvents: !1 }, k.a = function () { function n(e, n) { for (var t in e) e.hasOwnProperty(t) && n(t, e[t]) } function u(e, n) { if (n) for (var t in n) n.hasOwnProperty(t) && (e[t] = n[t]); return e } function c(e, n) { return e.__proto__ = n, e } function s(e, n, t, a) { var r = e[n].match(v) || []; k.a.r(t.match(v), function (e) { k.a.ra(r, e, a) }), e[n] = r.join(" ") } var l = { __proto__: [] } instanceof Array, f = "function" == typeof Symbol, d = {}, p = {}; d[r && /Firefox\/2/i.test(r.userAgent) ? "KeyboardEvent" : "UIEvents"] = ["keyup", "keydown", "keypress"], d.MouseEvents = "click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave".split(" "), n(d, function (e, n) { if (n.length) for (var t = 0, a = n.length; t < a; t++)p[n[t]] = e }); var h = { propertychange: !0 }, b = a && function () { for (var n = 3, t = a.createElement("div"), r = t.getElementsByTagName("i"); t.innerHTML = "\x3c!--[if gt IE " + ++n + "]><i></i><![endif]--\x3e", r[0];); return 4 < n ? n : e }(), v = /\S+/g; return { gc: ["authenticity_token", /^__RequestVerificationToken(_.*)?$/], r: function (e, n) { for (var t = 0, a = e.length; t < a; t++)n(e[t], t) }, o: function (e, n) { if ("function" == typeof Array.prototype.indexOf) return Array.prototype.indexOf.call(e, n); for (var t = 0, a = e.length; t < a; t++)if (e[t] === n) return t; return -1 }, Vb: function (e, n, t) { for (var a = 0, r = e.length; a < r; a++)if (n.call(t, e[a], a)) return e[a]; return null }, Na: function (e, n) { var t = k.a.o(e, n); 0 < t ? e.splice(t, 1) : 0 === t && e.shift() }, Wb: function (e) { for (var n = [], t = 0, a = (e = e || []).length; t < a; t++)0 > k.a.o(n, e[t]) && n.push(e[t]); return n }, ib: function (e, n) { for (var t = [], a = 0, r = (e = e || []).length; a < r; a++)t.push(n(e[a], a)); return t }, Ma: function (e, n) { for (var t = [], a = 0, r = (e = e || []).length; a < r; a++)n(e[a], a) && t.push(e[a]); return t }, ta: function (e, n) { if (n instanceof Array) e.push.apply(e, n); else for (var t = 0, a = n.length; t < a; t++)e.push(n[t]); return e }, ra: function (e, n, t) { var a = k.a.o(k.a.Bb(e), n); 0 > a ? t && e.push(n) : t || e.splice(a, 1) }, la: l, extend: u, $a: c, ab: l ? c : u, D: n, Ea: function (e, n) { if (!e) return e; var t, a = {}; for (t in e) e.hasOwnProperty(t) && (a[t] = n(e[t], t, e)); return a }, rb: function (e) { for (; e.firstChild;)k.removeNode(e.firstChild) }, nc: function (e) { for (var n = ((e = k.a.W(e))[0] && e[0].ownerDocument || a).createElement("div"), t = 0, r = e.length; t < r; t++)n.appendChild(k.ba(e[t])); return n }, wa: function (e, n) { for (var t = 0, a = e.length, r = []; t < a; t++) { var i = e[t].cloneNode(!0); r.push(n ? k.ba(i) : i) } return r }, fa: function (e, n) { if (k.a.rb(e), n) for (var t = 0, a = n.length; t < a; t++)e.appendChild(n[t]) }, uc: function (e, n) { var t = e.nodeType ? [e] : e; if (0 < t.length) { for (var a = t[0], r = a.parentNode, i = 0, o = n.length; i < o; i++)r.insertBefore(n[i], a); for (i = 0, o = t.length; i < o; i++)k.removeNode(t[i]) } }, Ba: function (e, n) { if (e.length) { for (n = 8 === n.nodeType && n.parentNode || n; e.length && e[0].parentNode !== n;)e.splice(0, 1); for (; 1 < e.length && e[e.length - 1].parentNode !== n;)e.length--; if (1 < e.length) { var t = e[0], a = e[e.length - 1]; for (e.length = 0; t !== a;)e.push(t), t = t.nextSibling; e.push(a) } } return e }, wc: function (e, n) { 7 > b ? e.setAttribute("selected", n) : e.selected = n }, cb: function (n) { return null === n || n === e ? "" : n.trim ? n.trim() : n.toString().replace(/^[\s\xa0]+|[\s\xa0]+$/g, "") }, sd: function (e, n) { return e = e || "", !(n.length > e.length) && e.substring(0, n.length) === n }, Rc: function (e, n) { if (e === n) return !0; if (11 === e.nodeType) return !1; if (n.contains) return n.contains(3 === e.nodeType ? e.parentNode : e); if (n.compareDocumentPosition) return 16 == (16 & n.compareDocumentPosition(e)); for (; e && e != n;)e = e.parentNode; return !!e }, qb: function (e) { return k.a.Rc(e, e.ownerDocument.documentElement) }, Tb: function (e) { return !!k.a.Vb(e, k.a.qb) }, A: function (e) { return e && e.tagName && e.tagName.toLowerCase() }, Zb: function (e) { return k.onError ? function () { try { return e.apply(this, arguments) } catch (e) { throw k.onError && k.onError(e), e } } : e }, setTimeout: function (e, n) { return setTimeout(k.a.Zb(e), n) }, dc: function (e) { setTimeout(function () { throw k.onError && k.onError(e), e }, 0) }, q: function (e, n, t) { var a = k.a.Zb(t); if (t = b && h[n], k.options.useOnlyNativeEvents || t || !i) if (t || "function" != typeof e.addEventListener) { if (void 0 === e.attachEvent) throw Error("Browser doesn't support addEventListener or attachEvent"); var r = function (n) { a.call(e, n) }, o = "on" + n; e.attachEvent(o, r), k.a.G.qa(e, function () { e.detachEvent(o, r) }) } else e.addEventListener(n, a, !1); else i(e).bind(n, a) }, Fa: function (e, n) { if (!e || !e.nodeType) throw Error("element must be a DOM node when calling triggerEvent"); var r; if (r = !("input" !== k.a.A(e) || !e.type || "click" != n.toLowerCase()) && ("checkbox" == (r = e.type) || "radio" == r), k.options.useOnlyNativeEvents || !i || r) if ("function" == typeof a.createEvent) { if ("function" != typeof e.dispatchEvent) throw Error("The supplied element doesn't support dispatchEvent"); (r = a.createEvent(p[n] || "HTMLEvents")).initEvent(n, !0, !0, t, 0, 0, 0, 0, 0, !1, !1, !1, !1, 0, e), e.dispatchEvent(r) } else if (r && e.click) e.click(); else { if (void 0 === e.fireEvent) throw Error("Browser doesn't support triggering events"); e.fireEvent("on" + n) } else i(e).trigger(n) }, c: function (e) { return k.I(e) ? e() : e }, Bb: function (e) { return k.I(e) ? e.p() : e }, fb: function (e, n, t) { var a; n && ("object" == typeof e.classList ? (a = e.classList[t ? "add" : "remove"], k.a.r(n.match(v), function (n) { a.call(e.classList, n) })) : "string" == typeof e.className.baseVal ? s(e.className, "baseVal", n, t) : s(e, "className", n, t)) }, bb: function (n, t) { var a = k.a.c(t); null !== a && a !== e || (a = ""); var r = k.f.firstChild(n); !r || 3 != r.nodeType || k.f.nextSibling(r) ? k.f.fa(n, [n.ownerDocument.createTextNode(a)]) : r.data = a, k.a.Wc(n) }, vc: function (e, n) { if (e.name = n, 7 >= b) try { e.mergeAttributes(a.createElement("<input name='" + e.name + "'/>"), !1) } catch (e) { } }, Wc: function (e) { 9 <= b && (e = 1 == e.nodeType ? e : e.parentNode).style && (e.style.zoom = e.style.zoom) }, Sc: function (e) { if (b) { var n = e.style.width; e.style.width = 0, e.style.width = n } }, nd: function (e, n) { e = k.a.c(e), n = k.a.c(n); for (var t = [], a = e; a <= n; a++)t.push(a); return t }, W: function (e) { for (var n = [], t = 0, a = e.length; t < a; t++)n.push(e[t]); return n }, bc: function (e) { return f ? Symbol(e) : e }, xd: 6 === b, yd: 7 === b, C: b, ic: function (e, n) { for (var t = k.a.W(e.getElementsByTagName("input")).concat(k.a.W(e.getElementsByTagName("textarea"))), a = "string" == typeof n ? function (e) { return e.name === n } : function (e) { return n.test(e.name) }, r = [], i = t.length - 1; 0 <= i; i--)a(t[i]) && r.push(t[i]); return r }, kd: function (e) { return "string" == typeof e && (e = k.a.cb(e)) ? o && o.parse ? o.parse(e) : new Function("return " + e)() : null }, Gb: function (e, n, t) { if (!o || !o.stringify) throw Error("Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js"); return o.stringify(k.a.c(e), n, t) }, ld: function (e, t, r) { var i = (r = r || {}).params || {}, o = r.includeFields || this.gc, u = e; if ("object" == typeof e && "form" === k.a.A(e)) { u = e.action; for (var c = o.length - 1; 0 <= c; c--)for (var s = k.a.ic(e, o[c]), l = s.length - 1; 0 <= l; l--)i[s[l].name] = s[l].value } t = k.a.c(t); var f = a.createElement("form"); f.style.display = "none", f.action = u, f.method = "post"; for (var d in t) e = a.createElement("input"), e.type = "hidden", e.name = d, e.value = k.a.Gb(k.a.c(t[d])), f.appendChild(e); n(i, function (e, n) { var t = a.createElement("input"); t.type = "hidden", t.name = e, t.value = n, f.appendChild(t) }), a.body.appendChild(f), r.submitter ? r.submitter(f) : f.submit(), setTimeout(function () { f.parentNode.removeChild(f) }, 0) } } }(), k.b("utils", k.a), k.b("utils.arrayForEach", k.a.r), k.b("utils.arrayFirst", k.a.Vb), k.b("utils.arrayFilter", k.a.Ma), k.b("utils.arrayGetDistinctValues", k.a.Wb), k.b("utils.arrayIndexOf", k.a.o), k.b("utils.arrayMap", k.a.ib), k.b("utils.arrayPushAll", k.a.ta), k.b("utils.arrayRemoveItem", k.a.Na), k.b("utils.extend", k.a.extend), k.b("utils.fieldsIncludedWithJsonPost", k.a.gc), k.b("utils.getFormFields", k.a.ic), k.b("utils.peekObservable", k.a.Bb), k.b("utils.postJson", k.a.ld), k.b("utils.parseJson", k.a.kd), k.b("utils.registerEventHandler", k.a.q), k.b("utils.stringifyJson", k.a.Gb), k.b("utils.range", k.a.nd), k.b("utils.toggleDomNodeCssClass", k.a.fb), k.b("utils.triggerEvent", k.a.Fa), k.b("utils.unwrapObservable", k.a.c), k.b("utils.objectForEach", k.a.D), k.b("utils.addOrRemoveItem", k.a.ra), k.b("utils.setTextContent", k.a.bb), k.b("unwrap", k.a.c), Function.prototype.bind || (Function.prototype.bind = function (e) { var n = this; if (1 === arguments.length) return function () { return n.apply(e, arguments) }; var t = Array.prototype.slice.call(arguments, 1); return function () { var a = t.slice(0); return a.push.apply(a, arguments), n.apply(e, a) } }), k.a.e = new function () { function n(n, i) { var o = n[a]; if (!o || "null" === o || !r[o]) { if (!i) return e; o = n[a] = "ko" + t++ , r[o] = {} } return r[o] } var t = 0, a = "__ko__" + (new Date).getTime(), r = {}; return { get: function (t, a) { var r = n(t, !1); return r === e ? e : r[a] }, set: function (t, a, r) { r === e && n(t, !1) === e || (n(t, !0)[a] = r) }, clear: function (e) { var n = e[a]; return !!n && (delete r[n], e[a] = null, !0) }, J: function () { return t++ + a } } }, k.b("utils.domData", k.a.e), k.b("utils.domData.clear", k.a.e.clear), k.a.G = new function () { function n(n, t) { var r = k.a.e.get(n, a); return r === e && t && (r = [], k.a.e.set(n, a, r)), r } function t(e) { if (a = n(e, !1)) for (var a = a.slice(0), r = 0; r < a.length; r++)a[r](e); if (k.a.e.clear(e), k.a.G.cleanExternalData(e), o[e.nodeType]) for (a = e.firstChild; e = a;)a = e.nextSibling, 8 === e.nodeType && t(e) } var a = k.a.e.J(), r = { 1: !0, 8: !0, 9: !0 }, o = { 1: !0, 9: !0 }; return { qa: function (e, t) { if ("function" != typeof t) throw Error("Callback must be a function"); n(e, !0).push(t) }, tc: function (t, r) { var i = n(t, !1); i && (k.a.Na(i, r), 0 == i.length && k.a.e.set(t, a, e)) }, ba: function (e) { if (r[e.nodeType] && (t(e), o[e.nodeType])) { var n = []; k.a.ta(n, e.getElementsByTagName("*")); for (var a = 0, i = n.length; a < i; a++)t(n[a]) } return e }, removeNode: function (e) { k.ba(e), e.parentNode && e.parentNode.removeChild(e) }, cleanExternalData: function (e) { i && "function" == typeof i.cleanData && i.cleanData([e]) } } }, k.ba = k.a.G.ba, k.removeNode = k.a.G.removeNode, k.b("cleanNode", k.ba), k.b("removeNode", k.removeNode), k.b("utils.domNodeDisposal", k.a.G), k.b("utils.domNodeDisposal.addDisposeCallback", k.a.G.qa), k.b("utils.domNodeDisposal.removeDisposeCallback", k.a.G.tc), b = [0, "", ""], y = { thead: v = [1, "<table>", "</table>"], tbody: v, tfoot: v, tr: [2, "<table><tbody>", "</tbody></table>"], td: g = [3, "<table><tbody><tr>", "</tr></tbody></table>"], th: g, option: m = [1, "<select multiple='multiple'>", "</select>"], optgroup: m }, w = 8 >= k.a.C, k.a.na = function (e, n) { var r; if (i) { if (i.parseHTML) r = i.parseHTML(e, n) || []; else if ((r = i.clean([e], n)) && r[0]) { for (var o = r[0]; o.parentNode && 11 !== o.parentNode.nodeType;)o = o.parentNode; o.parentNode && o.parentNode.removeChild(o) } } else { (r = n) || (r = a), o = r.parentWindow || r.defaultView || t; var u, c = k.a.cb(e).toLowerCase(), s = r.createElement("div"); for (u = (c = c.match(/^<([a-z]+)[ >]/)) && y[c[1]] || b, c = u[0], u = "ignored<div>" + u[1] + e + u[2] + "</div>", "function" == typeof o.innerShiv ? s.appendChild(o.innerShiv(u)) : (w && r.appendChild(s), s.innerHTML = u, w && s.parentNode.removeChild(s)); c--;)s = s.lastChild; r = k.a.W(s.lastChild.childNodes) } return r }, k.a.Eb = function (n, t) { if (k.a.rb(n), null !== (t = k.a.c(t)) && t !== e) if ("string" != typeof t && (t = t.toString()), i) i(n).html(t); else for (var a = k.a.na(t, n.ownerDocument), r = 0; r < a.length; r++)n.appendChild(a[r]) }, k.b("utils.parseHtmlFragment", k.a.na), k.b("utils.setHtml", k.a.Eb), k.N = (x = {}, { yb: function (e) { if ("function" != typeof e) throw Error("You can only pass a function to ko.memoization.memoize()"); var n = (4294967296 * (1 + Math.random()) | 0).toString(16).substring(1) + (4294967296 * (1 + Math.random()) | 0).toString(16).substring(1); return x[n] = e, "\x3c!--[ko_memo:" + n + "]--\x3e" }, Bc: function (n, t) { var a = x[n]; if (a === e) throw Error("Couldn't find any memo with ID " + n + ". Perhaps it's already been unmemoized."); try { return a.apply(null, t || []), !0 } finally { delete x[n] } }, Cc: function (e, n) { var t = []; !function e(n, t) { if (n) if (8 == n.nodeType) null != (a = k.N.pc(n.nodeValue)) && t.push({ Qc: n, hd: a }); else if (1 == n.nodeType) for (var a = 0, r = n.childNodes, i = r.length; a < i; a++)e(r[a], t) }(e, t); for (var a = 0, r = t.length; a < r; a++) { var i = t[a].Qc, o = [i]; n && k.a.ta(o, n), k.N.Bc(t[a].hd, o), i.nodeValue = "", i.parentNode && i.parentNode.removeChild(i) } }, pc: function (e) { return (e = e.match(/^\[ko_memo\:(.*?)\]$/)) ? e[1] : null } }), k.b("memoization", k.N), k.b("memoization.memoize", k.N.yb), k.b("memoization.unmemoize", k.N.Bc), k.b("memoization.parseMemoText", k.N.pc), k.b("memoization.unmemoizeDomNodeAndDescendants", k.N.Cc), k.Z = function () { function e() { if (u) for (var e, n = u, t = 0; s < u;)if (e = o[s++]) { if (s > n) { if (5e3 <= ++t) { s = u, k.a.dc(Error("'Too much recursion' after processing " + t + " task groups.")); break } n = u } try { e() } catch (e) { k.a.dc(e) } } } function n() { e(), s = u = o.length = 0 } var r, i, o = [], u = 0, c = 1, s = 0; return { scheduler: t.MutationObserver ? (r = n, i = a.createElement("div"), new MutationObserver(r).observe(i, { attributes: !0 }), function () { i.classList.toggle("foo") }) : a && "onreadystatechange" in a.createElement("script") ? function (e) { var n = a.createElement("script"); n.onreadystatechange = function () { n.onreadystatechange = null, a.documentElement.removeChild(n), n = null, e() }, a.documentElement.appendChild(n) } : function (e) { setTimeout(e, 0) }, Za: function (e) { return u || k.Z.scheduler(n), o[u++] = e, c++ }, cancel: function (e) { (e -= c - u) >= s && e < u && (o[e] = null) }, resetForTesting: function () { var e = u - s; return s = u = o.length = 0, e }, rd: e } }(), k.b("tasks", k.Z), k.b("tasks.schedule", k.Z.Za), k.b("tasks.runEarly", k.Z.rd), k.Aa = { throttle: function (e, n) { e.throttleEvaluation = n; var t = null; return k.B({ read: e, write: function (a) { clearTimeout(t), t = k.a.setTimeout(function () { e(a) }, n) } }) }, rateLimit: function (e, n) { var t, a, r; "number" == typeof n ? t = n : (t = n.timeout, a = n.method), e.gb = !1, r = "notifyWhenChangesStop" == a ? l : s, e.Wa(function (e) { return r(e, t) }) }, deferred: function (n, t) { if (!0 !== t) throw Error("The 'deferred' extender only accepts the value 'true', because it is not supported to turn deferral off once enabled."); n.gb || (n.gb = !0, n.Wa(function (t) { var a, r = !1; return function () { if (!r) { k.Z.cancel(a), a = k.Z.Za(t); try { r = !0, n.notifySubscribers(e, "dirty") } finally { r = !1 } } } })) }, notify: function (e, n) { e.equalityComparer = "always" == n ? null : c } }; var E = { undefined: 1, boolean: 1, number: 1, string: 1 }; k.b("extenders", k.Aa), k.zc = function (e, n, t) { this.$ = e, this.jb = n, this.Pc = t, this.T = !1, k.H(this, "dispose", this.k) }, k.zc.prototype.k = function () { this.T = !0, this.Pc() }, k.K = function () { k.a.ab(this, C), C.ub(this) }; var T = "change", C = { ub: function (e) { e.F = { change: [] }, e.Qb = 1 }, Y: function (e, n, t) { var a = this; t = t || T; var r = new k.zc(a, n ? e.bind(n) : e, function () { k.a.Na(a.F[t], r), a.Ka && a.Ka(t) }); return a.ua && a.ua(t), a.F[t] || (a.F[t] = []), a.F[t].push(r), r }, notifySubscribers: function (e, n) { if ((n = n || T) === T && this.Kb(), this.Ra(n)) { var t = n === T && this.Fc || this.F[n].slice(0); try { k.l.Xb(); for (var a, r = 0; a = t[r]; ++r)a.T || a.jb(e) } finally { k.l.end() } } }, Pa: function () { return this.Qb }, Zc: function (e) { return this.Pa() !== e }, Kb: function () { ++this.Qb }, Wa: function (e) { var n, t, a, r, i = this, o = k.I(i); i.Ja || (i.Ja = i.notifySubscribers, i.notifySubscribers = f); var u = e(function () { i.Ha = !1, o && r === i && (r = i.Mb ? i.Mb() : i()); var e = t || i.Ua(a, r); t = n = !1, e && i.Ja(a = r) }); i.Pb = function (e) { i.Fc = i.F[T].slice(0), i.Ha = n = !0, r = e, u() }, i.Ob = function (e) { n || (a = e, i.Ja(e, "beforeChange")) }, i.Hc = function () { i.Ua(a, i.p(!0)) && (t = !0) } }, Ra: function (e) { return this.F[e] && this.F[e].length }, Xc: function (e) { if (e) return this.F[e] && this.F[e].length || 0; var n = 0; return k.a.D(this.F, function (e, t) { "dirty" !== e && (n += t.length) }), n }, Ua: function (e, n) { return !this.equalityComparer || !this.equalityComparer(e, n) }, extend: function (e) { var n = this; return e && k.a.D(e, function (e, t) { var a = k.Aa[e]; "function" == typeof a && (n = a(n, t) || n) }), n } }; k.H(C, "subscribe", C.Y), k.H(C, "extend", C.extend), k.H(C, "getSubscriptionsCount", C.Xc), k.a.la && k.a.$a(C, Function.prototype), k.K.fn = C, k.lc = function (e) { return null != e && "function" == typeof e.Y && "function" == typeof e.notifySubscribers }, k.b("subscribable", k.K), k.b("isSubscribable", k.lc), k.xa = k.l = function () { function e(e) { a.push(t), t = e } function n() { t = a.pop() } var t, a = [], r = 0; return { Xb: e, end: n, sc: function (e) { if (t) { if (!k.lc(e)) throw Error("Only subscribable things can act as dependencies"); t.jb.call(t.Lc, e, e.Gc || (e.Gc = ++r)) } }, w: function (t, a, r) { try { return e(), t.apply(a, r || []) } finally { n() } }, Ca: function () { if (t) return t.m.Ca() }, Va: function () { if (t) return t.Va } } }(), k.b("computedContext", k.xa), k.b("computedContext.getDependenciesCount", k.xa.Ca), k.b("computedContext.isInitial", k.xa.Va), k.b("ignoreDependencies", k.wd = k.l.w); var N = k.a.bc("_latestValue"); k.O = function (e) { function n() { return 0 < arguments.length ? (n.Ua(n[N], arguments[0]) && (n.ia(), n[N] = arguments[0], n.ha()), this) : (k.l.sc(n), n[N]) } return n[N] = e, k.a.la || k.a.extend(n, k.K.fn), k.K.fn.ub(n), k.a.ab(n, S), k.options.deferUpdates && k.Aa.deferred(n, !0), n }; var S = { equalityComparer: c, p: function () { return this[N] }, ha: function () { this.notifySubscribers(this[N]) }, ia: function () { this.notifySubscribers(this[N], "beforeChange") } }; k.a.la && k.a.$a(S, k.K.fn); var _ = k.O.md = "__ko_proto__"; S[_] = k.O, k.Qa = function (n, t) { return null !== n && n !== e && n[_] !== e && (n[_] === t || k.Qa(n[_], t)) }, k.I = function (e) { return k.Qa(e, k.O) }, k.Da = function (e) { return !!("function" == typeof e && e[_] === k.O || "function" == typeof e && e[_] === k.B && e.$c) }, k.b("observable", k.O), k.b("isObservable", k.I), k.b("isWriteableObservable", k.Da), k.b("isWritableObservable", k.Da), k.b("observable.fn", S), k.H(S, "peek", S.p), k.H(S, "valueHasMutated", S.ha), k.H(S, "valueWillMutate", S.ia), k.ma = function (e) { if ("object" != typeof (e = e || []) || !("length" in e)) throw Error("The argument passed when initializing an observable array must be an array, or null, or undefined."); return e = k.O(e), k.a.ab(e, k.ma.fn), e.extend({ trackArrayChanges: !0 }) }, k.ma.fn = { remove: function (e) { for (var n = this.p(), t = [], a = "function" != typeof e || k.I(e) ? function (n) { return n === e } : e, r = 0; r < n.length; r++) { var i = n[r]; a(i) && (0 === t.length && this.ia(), t.push(i), n.splice(r, 1), r--) } return t.length && this.ha(), t }, removeAll: function (n) { if (n === e) { var t = this.p(), a = t.slice(0); return this.ia(), t.splice(0, t.length), this.ha(), a } return n ? this.remove(function (e) { return 0 <= k.a.o(n, e) }) : [] }, destroy: function (e) { var n = this.p(), t = "function" != typeof e || k.I(e) ? function (n) { return n === e } : e; this.ia(); for (var a = n.length - 1; 0 <= a; a--)t(n[a]) && (n[a]._destroy = !0); this.ha() }, destroyAll: function (n) { return n === e ? this.destroy(function () { return !0 }) : n ? this.destroy(function (e) { return 0 <= k.a.o(n, e) }) : [] }, indexOf: function (e) { var n = this(); return k.a.o(n, e) }, replace: function (e, n) { var t = this.indexOf(e); 0 <= t && (this.ia(), this.p()[t] = n, this.ha()) } }, k.a.la && k.a.$a(k.ma.fn, k.O.fn), k.a.r("pop push reverse shift sort splice unshift".split(" "), function (e) { k.ma.fn[e] = function () { var n = this.p(); this.ia(), this.Yb(n, e, arguments); var t = n[e].apply(n, arguments); return this.ha(), t === n ? this : t } }), k.a.r(["slice"], function (e) { k.ma.fn[e] = function () { var n = this(); return n[e].apply(n, arguments) } }), k.b("observableArray", k.ma), k.Aa.trackArrayChanges = function (n, t) { if (n.kb = {}, t && "object" == typeof t && k.a.extend(n.kb, t), n.kb.sparse = !0, !n.Yb) { var a, r, i = !1, o = null, u = 0, c = n.ua, s = n.Ka; n.ua = function (e) { c && c.call(n, e), "arrayChange" === e && function () { if (!i) { i = !0, r = n.notifySubscribers, n.notifySubscribers = function (e, n) { return n && n !== T || ++u, r.apply(this, arguments) }; var e = [].concat(n.p() || []); o = null, a = n.Y(function (t) { var a; t = [].concat(t || []), n.Ra("arrayChange") && ((!o || 1 < u) && (o = k.a.lb(e, t, n.kb)), a = o), e = t, o = null, u = 0, a && a.length && n.notifySubscribers(a, "arrayChange") }) } }() }, n.Ka = function (t) { s && s.call(n, t), "arrayChange" !== t || n.Ra("arrayChange") || (r && (n.notifySubscribers = r, r = e), a.k(), i = !1) }, n.Yb = function (e, n, t) { function a(e, n, t) { return r[r.length] = { status: e, value: n, index: t } } if (i && !u) { var r = [], c = e.length, s = t.length, l = 0; switch (n) { case "push": l = c; case "unshift": for (n = 0; n < s; n++)a("added", t[n], l + n); break; case "pop": l = c - 1; case "shift": c && a("deleted", e[l], l); break; case "splice": n = Math.min(Math.max(0, 0 > t[0] ? c + t[0] : t[0]), c), c = 1 === s ? c : Math.min(n + (t[1] || 0), c), s = n + s - 2, l = Math.max(c, s); for (var f = [], d = [], p = 2; n < l; ++n, ++p)n < c && d.push(a("deleted", e[n], n)), n < s && f.push(a("added", t[p], n)); k.a.hc(d, f); break; default: return }o = r } } } }; var D = k.a.bc("_state"); k.m = k.B = function (n, t, a) { function r() { if (0 < arguments.length) { if ("function" != typeof i) throw Error("Cannot write a value to a ko.computed unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters."); return i.apply(o.sb, arguments), this } return k.l.sc(r), (o.V || o.t && r.Sa()) && r.U(), o.M } if ("object" == typeof n ? a = n : (a = a || {}, n && (a.read = n)), "function" != typeof a.read) throw Error("Pass a function that returns the value of the ko.computed"); var i = a.write, o = { M: e, da: !0, V: !0, Ta: !1, Hb: !1, T: !1, Ya: !1, t: !1, od: a.read, sb: t || a.owner, i: a.disposeWhenNodeIsRemoved || a.i || null, ya: a.disposeWhen || a.ya, pb: null, s: {}, L: 0, fc: null }; return r[D] = o, r.$c = "function" == typeof i, k.a.la || k.a.extend(r, k.K.fn), k.K.fn.ub(r), k.a.ab(r, B), a.pure ? (o.Ya = !0, o.t = !0, k.a.extend(r, A)) : a.deferEvaluation && k.a.extend(r, O), k.options.deferUpdates && k.Aa.deferred(r, !0), o.i && (o.Hb = !0, o.i.nodeType || (o.i = null)), o.t || a.deferEvaluation || r.U(), o.i && r.ca() && k.a.G.qa(o.i, o.pb = function () { r.k() }), r }; var B = { equalityComparer: c, Ca: function () { return this[D].L }, Sb: function (e, n, t) { if (this[D].Ya && n === this) throw Error("A 'pure' computed must not be called recursively"); this[D].s[e] = t, t.Ia = this[D].L++ , t.pa = n.Pa() }, Sa: function () { var e, n, t = this[D].s; for (e in t) if (t.hasOwnProperty(e) && (n = t[e], this.oa && n.$.Ha || n.$.Zc(n.pa))) return !0 }, gd: function () { this.oa && !this[D].Ta && this.oa(!1) }, ca: function () { var e = this[D]; return e.V || 0 < e.L }, qd: function () { this.Ha ? this[D].V && (this[D].da = !0) : this.ec() }, yc: function (e) { if (e.gb && !this[D].i) { var n = e.Y(this.gd, this, "dirty"), t = e.Y(this.qd, this); return { $: e, k: function () { n.k(), t.k() } } } return e.Y(this.ec, this) }, ec: function () { var e = this, n = e.throttleEvaluation; n && 0 <= n ? (clearTimeout(this[D].fc), this[D].fc = k.a.setTimeout(function () { e.U(!0) }, n)) : e.oa ? e.oa(!0) : e.U(!0) }, U: function (e) { var n = this[D], t = n.ya, a = !1; if (!n.Ta && !n.T) { if (n.i && !k.a.qb(n.i) || t && t()) { if (!n.Hb) return void this.k() } else n.Hb = !1; n.Ta = !0; try { a = this.Vc(e) } finally { n.Ta = !1 } return n.L || this.k(), a } }, Vc: function (n) { var t = this[D], a = !1, r = t.Ya ? e : !t.L, i = { Mc: this, Oa: t.s, ob: t.L }; return k.l.Xb({ Lc: i, jb: p, m: this, Va: r }), t.s = {}, t.L = 0, i = this.Uc(t, i), this.Ua(t.M, i) && (t.t || this.notifySubscribers(t.M, "beforeChange"), t.M = i, t.t ? this.Kb() : n && this.notifySubscribers(t.M), a = !0), r && this.notifySubscribers(t.M, "awake"), a }, Uc: function (e, n) { try { var t = e.od; return e.sb ? t.call(e.sb) : t() } finally { k.l.end(), n.ob && !e.t && k.a.D(n.Oa, d), e.da = e.V = !1 } }, p: function (e) { var n = this[D]; return (n.V && (e || !n.L) || n.t && this.Sa()) && this.U(), n.M }, Wa: function (e) { k.K.fn.Wa.call(this, e), this.Mb = function () { return this[D].da ? this.U() : this[D].V = !1, this[D].M }, this.oa = function (e) { this.Ob(this[D].M), this[D].V = !0, e && (this[D].da = !0), this.Pb(this) } }, k: function () { var e = this[D]; !e.t && e.s && k.a.D(e.s, function (e, n) { n.k && n.k() }), e.i && e.pb && k.a.G.tc(e.i, e.pb), e.s = null, e.L = 0, e.T = !0, e.da = !1, e.V = !1, e.t = !1, e.i = null } }, A = { ua: function (e) { var n = this, t = n[D]; if (!t.T && t.t && "change" == e) { if (t.t = !1, t.da || n.Sa()) t.s = null, t.L = 0, n.U() && n.Kb(); else { var a = []; k.a.D(t.s, function (e, n) { a[n.Ia] = e }), k.a.r(a, function (e, a) { var r = t.s[e], i = n.yc(r.$); i.Ia = a, i.pa = r.pa, t.s[e] = i }) } t.T || n.notifySubscribers(t.M, "awake") } }, Ka: function (n) { var t = this[D]; t.T || "change" != n || this.Ra("change") || (k.a.D(t.s, function (e, n) { n.k && (t.s[e] = { $: n.$, Ia: n.Ia, pa: n.pa }, n.k()) }), t.t = !0, this.notifySubscribers(e, "asleep")) }, Pa: function () { var e = this[D]; return e.t && (e.da || this.Sa()) && this.U(), k.K.fn.Pa.call(this) } }, O = { ua: function (e) { "change" != e && "beforeChange" != e || this.p() } }; k.a.la && k.a.$a(B, k.K.fn); var M, j = k.O.md; k.m[j] = k.O, B[j] = k.m, k.bd = function (e) { return k.Qa(e, k.m) }, k.cd = function (e) { return k.Qa(e, k.m) && e[D] && e[D].Ya }, k.b("computed", k.m), k.b("dependentObservable", k.m), k.b("isComputed", k.bd), k.b("isPureComputed", k.cd), k.b("computed.fn", B), k.H(B, "peek", B.p), k.H(B, "dispose", B.k), k.H(B, "isActive", B.ca), k.H(B, "getDependenciesCount", B.Ca), k.rc = function (e, n) { return "function" == typeof e ? k.m(e, n, { pure: !0 }) : ((e = k.a.extend({}, e)).pure = !0, k.m(e, n)) }, k.b("pureComputed", k.rc), function () { function n(a, r, i) { if (i = i || new t, "object" != typeof (a = r(a)) || null === a || a === e || a instanceof RegExp || a instanceof Date || a instanceof String || a instanceof Number || a instanceof Boolean) return a; var o = a instanceof Array ? [] : {}; return i.save(a, o), function (e, n) { if (e instanceof Array) { for (var t = 0; t < e.length; t++)n(t); "function" == typeof e.toJSON && n("toJSON") } else for (t in e) n(t) }(a, function (t) { var u = r(a[t]); switch (typeof u) { case "boolean": case "number": case "string": case "function": o[t] = u; break; case "object": case "undefined": var c = i.get(u); o[t] = c !== e ? c : n(u, r, i) } }), o } function t() { this.keys = [], this.Lb = [] } k.Ac = function (e) { if (0 == arguments.length) throw Error("When calling ko.toJS, pass the object you want to convert."); return n(e, function (e) { for (var n = 0; k.I(e) && 10 > n; n++)e = e(); return e }) }, k.toJSON = function (e, n, t) { return e = k.Ac(e), k.a.Gb(e, n, t) }, t.prototype = { save: function (e, n) { var t = k.a.o(this.keys, e); 0 <= t ? this.Lb[t] = n : (this.keys.push(e), this.Lb.push(n)) }, get: function (n) { return 0 <= (n = k.a.o(this.keys, n)) ? this.Lb[n] : e } } }(), k.b("toJS", k.Ac), k.b("toJSON", k.toJSON), k.j = { u: function (n) { switch (k.a.A(n)) { case "option": return !0 === n.__ko__hasDomDataOptionValue__ ? k.a.e.get(n, k.d.options.zb) : 7 >= k.a.C ? n.getAttributeNode("value") && n.getAttributeNode("value").specified ? n.value : n.text : n.value; case "select": return 0 <= n.selectedIndex ? k.j.u(n.options[n.selectedIndex]) : e; default: return n.value } }, ja: function (n, t, a) { switch (k.a.A(n)) { case "option": switch (typeof t) { case "string": k.a.e.set(n, k.d.options.zb, e), "__ko__hasDomDataOptionValue__" in n && delete n.__ko__hasDomDataOptionValue__, n.value = t; break; default: k.a.e.set(n, k.d.options.zb, t), n.__ko__hasDomDataOptionValue__ = !0, n.value = "number" == typeof t ? t : "" }break; case "select": "" !== t && null !== t || (t = e); for (var r, i = -1, o = 0, u = n.options.length; o < u; ++o)if (r = k.j.u(n.options[o]), r == t || "" == r && t === e) { i = o; break } (a || 0 <= i || t === e && 1 < n.size) && (n.selectedIndex = i); break; default: null !== t && t !== e || (t = ""), n.value = t } } }, k.b("selectExtensions", k.j), k.b("selectExtensions.readValue", k.j.u), k.b("selectExtensions.writeValue", k.j.ja), k.h = function () { function e(e) { 123 === (e = k.a.cb(e)).charCodeAt(0) && (e = e.slice(1, -1)); var n, t = [], o = e.match(a), u = [], c = 0; if (o) { o.push(","); for (var s, l = 0; s = o[l]; ++l) { var f = s.charCodeAt(0); if (44 === f) { if (0 >= c) { t.push(n && u.length ? { key: n, value: u.join("") } : { unknown: n || u.join("") }), n = c = 0, u = []; continue } } else if (58 === f) { if (!c && !n && 1 === u.length) { n = u.pop(); continue } } else 47 === f && l && 1 < s.length ? (f = o[l - 1].match(r)) && !i[f[0]] && (e = e.substr(e.indexOf(s) + 1), o = e.match(a), o.push(","), l = -1, s = "/") : 40 === f || 123 === f || 91 === f ? ++c : 41 === f || 125 === f || 93 === f ? --c : n || u.length || 34 !== f && 39 !== f || (s = s.slice(1, -1)); u.push(s) } } return t } var n = ["true", "false", "null", "undefined"], t = /^(?:[$_a-z][$\w]*|(.+)(\.\s*[$_a-z][$\w]*|\[.+\]))$/i, a = RegExp("\"(?:[^\"\\\\]|\\\\.)*\"|'(?:[^'\\\\]|\\\\.)*'|/(?:[^/\\\\]|\\\\.)*/w*|[^\\s:,/][^,\"'{}()/:[\\]]*[^\\s,\"'{}()/:[\\]]|[^\\s]", "g"), r = /[\])"'A-Za-z0-9_$]+$/, i = { in: 1, return: 1, typeof: 1 }, o = {}; return { va: [], ga: o, Ab: e, Xa: function (a, r) { function i(e, a) { var r; if (!l) { var f = k.getBindingHandler(e); if (f && f.preprocess && !(a = f.preprocess(a, e, i))) return; (f = o[e]) && (r = a, r = !(0 <= k.a.o(n, r)) && (null !== (f = r.match(t)) && (f[1] ? "Object(" + f[1] + ")" + f[2] : r)), f = r), f && c.push("'" + e + "':function(_z){" + r + "=_z}") } s && (a = "function(){return " + a + " }"), u.push("'" + e + "':" + a) } var u = [], c = [], s = (r = r || {}).valueAccessors, l = r.bindingParams, f = "string" == typeof a ? e(a) : a; return k.a.r(f, function (e) { i(e.key || e.unknown, e.value) }), c.length && i("_ko_property_writers", "{" + c.join(",") + " }"), u.join(",") }, fd: function (e, n) { for (var t = 0; t < e.length; t++)if (e[t].key == n) return !0; return !1 }, Ga: function (e, n, t, a, r) { e && k.I(e) ? !k.Da(e) || r && e.p() === a || e(a) : (e = n.get("_ko_property_writers")) && e[t] && e[t](a) } } }(), k.b("expressionRewriting", k.h), k.b("expressionRewriting.bindingRewriteValidators", k.h.va), k.b("expressionRewriting.parseObjectLiteral", k.h.Ab), k.b("expressionRewriting.preProcessBindings", k.h.Xa), k.b("expressionRewriting._twoWayBindings", k.h.ga), k.b("jsonExpressionRewriting", k.h), k.b("jsonExpressionRewriting.insertPropertyAccessorsIntoJson", k.h.Xa), function () { function e(e) { return 8 == e.nodeType && o.test(i ? e.text : e.nodeValue) } function n(e) { return 8 == e.nodeType && u.test(i ? e.text : e.nodeValue) } function t(t, a) { for (var r = t, i = 1, o = []; r = r.nextSibling;) { if (n(r) && 0 == --i) return o; o.push(r), e(r) && i++ } if (!a) throw Error("Cannot find closing comment tag to match: " + t.nodeValue); return null } function r(e, n) { var a = t(e, n); return a ? 0 < a.length ? a[a.length - 1].nextSibling : e.nextSibling : null } var i = a && "\x3c!--test--\x3e" === a.createComment("test").text, o = i ? /^\x3c!--\s*ko(?:\s+([\s\S]+))?\s*--\x3e$/ : /^\s*ko(?:\s+([\s\S]+))?\s*$/, u = i ? /^\x3c!--\s*\/ko\s*--\x3e$/ : /^\s*\/ko\s*$/, c = { ul: !0, ol: !0 }; k.f = { aa: {}, childNodes: function (n) { return e(n) ? t(n) : n.childNodes }, za: function (n) { if (e(n)) for (var t = 0, a = (n = k.f.childNodes(n)).length; t < a; t++)k.removeNode(n[t]); else k.a.rb(n) }, fa: function (n, t) { if (e(n)) { k.f.za(n); for (var a = n.nextSibling, r = 0, i = t.length; r < i; r++)a.parentNode.insertBefore(t[r], a) } else k.a.fa(n, t) }, qc: function (n, t) { e(n) ? n.parentNode.insertBefore(t, n.nextSibling) : n.firstChild ? n.insertBefore(t, n.firstChild) : n.appendChild(t) }, kc: function (n, t, a) { a ? e(n) ? n.parentNode.insertBefore(t, a.nextSibling) : a.nextSibling ? n.insertBefore(t, a.nextSibling) : n.appendChild(t) : k.f.qc(n, t) }, firstChild: function (t) { return e(t) ? !t.nextSibling || n(t.nextSibling) ? null : t.nextSibling : t.firstChild }, nextSibling: function (t) { return e(t) && (t = r(t)), t.nextSibling && n(t.nextSibling) ? null : t.nextSibling }, Yc: e, vd: function (e) { return (e = (i ? e.text : e.nodeValue).match(o)) ? e[1] : null }, oc: function (t) { if (c[k.a.A(t)]) { var a = t.firstChild; if (a) do { if (1 === a.nodeType) { var i, o = null; if (i = a.firstChild) do { if (o) o.push(i); else if (e(i)) { var u = r(i, !0); u ? i = u : o = [i] } else n(i) && (o = [i]) } while (i = i.nextSibling); if (i = o) for (o = a.nextSibling, u = 0; u < i.length; u++)o ? t.insertBefore(i[u], o) : t.appendChild(i[u]) } } while (a = a.nextSibling) } } } }(), k.b("virtualElements", k.f), k.b("virtualElements.allowedBindings", k.f.aa), k.b("virtualElements.emptyNode", k.f.za), k.b("virtualElements.insertAfter", k.f.kc), k.b("virtualElements.prepend", k.f.qc), k.b("virtualElements.setDomNodeChildren", k.f.fa), k.S = function () { this.Kc = {} }, k.a.extend(k.S.prototype, { nodeHasBindings: function (e) { switch (e.nodeType) { case 1: return null != e.getAttribute("data-bind") || k.g.getComponentNameForNode(e); case 8: return k.f.Yc(e); default: return !1 } }, getBindings: function (e, n) { var t = (t = this.getBindingsString(e, n)) ? this.parseBindingsString(t, n, e) : null; return k.g.Rb(t, e, n, !1) }, getBindingAccessors: function (e, n) { var t = (t = this.getBindingsString(e, n)) ? this.parseBindingsString(t, n, e, { valueAccessors: !0 }) : null; return k.g.Rb(t, e, n, !0) }, getBindingsString: function (e) { switch (e.nodeType) { case 1: return e.getAttribute("data-bind"); case 8: return k.f.vd(e); default: return null } }, parseBindingsString: function (e, n, t, a) { try { var r, i = this.Kc, o = e + (a && a.valueAccessors || ""); if (!(r = i[o])) { var u, c = "with($context){with($data||{}){return{" + k.h.Xa(e, a) + "}}}"; u = new Function("$context", "$element", c), r = i[o] = u } return r(n, t) } catch (n) { throw n.message = "Unable to parse bindings.\nBindings value: " + e + "\nMessage: " + n.message, n } } }), k.S.instance = new k.S, k.b("bindingProvider", k.S), function () { function n(e) { return function () { return e } } function a(e) { return e() } function r(e) { return k.a.Ea(k.l.w(e), function (n, t) { return function () { return e()[t] } }) } function o(e, n) { return r(this.getBindings.bind(this, e, n)) } function u(e, n, t) { var a, r = k.f.firstChild(n), i = k.S.instance, o = i.preprocessNode; if (o) { for (; a = r;)r = k.f.nextSibling(a), o.call(i, a); r = k.f.firstChild(n) } for (; a = r;)r = k.f.nextSibling(a), c(e, a, t) } function c(e, n, t) { var a = !0, r = 1 === n.nodeType; r && k.f.oc(n), (r && t || k.S.instance.nodeHasBindings(n)) && (a = s(n, null, e, t).shouldBindDescendants), a && !f[k.a.A(n)] && u(e, n, !r) } function s(n, t, r, i) { var u, c, s, l, f, p, h = k.a.e.get(n, d); if (!t) { if (h) throw Error("You cannot apply bindings multiple times to the same element."); k.a.e.set(n, d, !0) } if (!h && i && k.xc(n, r), t && "function" != typeof t) u = t; else { var b = k.S.instance, v = b.getBindingAccessors || o, g = k.B(function () { return (u = t ? t(r, n) : v.call(b, n, r)) && r.Q && r.Q(), u }, null, { i: n }); u && g.ca() || (g = null) } if (u) { var m = g ? function (e) { return function () { return a(g()[e]) } } : function (e) { return u[e] }, y = function () { return k.a.Ea(g ? g() : u, a) }; y.get = function (e) { return u[e] && a(m(e)) }, y.has = function (e) { return e in u }, s = u, l = [], f = {}, p = [], k.a.D(s, function e(n) { if (!f[n]) { var t = k.getBindingHandler(n); t && (t.after && (p.push(n), k.a.r(t.after, function (n) { if (s[n]) { if (-1 !== k.a.o(p, n)) throw Error("Cannot combine the following bindings, because they have a cyclic dependency: " + p.join(", ")); e(n) } }), p.length--), l.push({ key: n, jc: t })), f[n] = !0 } }), i = l, k.a.r(i, function (t) { var a = t.jc.init, i = t.jc.update, o = t.key; if (8 === n.nodeType && !k.f.aa[o]) throw Error("The binding '" + o + "' cannot be used with virtual elements"); try { "function" == typeof a && k.l.w(function () { var t = a(n, m(o), y, r.$data, r); if (t && t.controlsDescendantBindings) { if (c !== e) throw Error("Multiple bindings (" + c + " and " + o + ") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element."); c = o } }), "function" == typeof i && k.B(function () { i(n, m(o), y, r.$data, r) }, null, { i: n }) } catch (e) { throw e.message = 'Unable to process binding "' + o + ": " + u[o] + '"\nMessage: ' + e.message, e } }) } return { shouldBindDescendants: c === e } } function l(e) { return e && e instanceof k.R ? e : new k.R(e) } k.d = {}; var f = { script: !0, textarea: !0, template: !0 }; k.getBindingHandler = function (e) { return k.d[e] }, k.R = function (n, t, a, r, i) { function o() { var e = l ? n() : n, i = k.a.c(e); return t ? (t.Q && t.Q(), k.a.extend(s, t), s.Q = c) : (s.$parents = [], s.$root = i, s.ko = k), s.$rawData = e, s.$data = i, a && (s[a] = i), r && r(s, t, i), s.$data } var u, c, s = this, l = "function" == typeof n && !k.I(n); i && i.exportDependencies ? o() : (c = k.B(o, null, { ya: function () { return u && !k.a.Tb(u) }, i: !0 })).ca() && (s.Q = c, c.equalityComparer = null, u = [], c.Dc = function (n) { u.push(n), k.a.G.qa(n, function (n) { k.a.Na(u, n), u.length || (c.k(), s.Q = c = e) }) }) }, k.R.prototype.createChildContext = function (e, n, t, a) { return new k.R(e, this, n, function (e, n) { e.$parentContext = n, e.$parent = n.$data, e.$parents = (n.$parents || []).slice(0), e.$parents.unshift(e.$parent), t && t(e) }, a) }, k.R.prototype.extend = function (e) { return new k.R(this.Q || this.$data, this, null, function (n, t) { n.$rawData = t.$rawData, k.a.extend(n, "function" == typeof e ? e() : e) }) }, k.R.prototype.ac = function (e, n) { return this.createChildContext(e, n, null, { exportDependencies: !0 }) }; var d = k.a.e.J(), p = k.a.e.J(); k.xc = function (e, n) { if (2 != arguments.length) return k.a.e.get(e, p); k.a.e.set(e, p, n), n.Q && n.Q.Dc(e) }, k.La = function (e, n, t) { return 1 === e.nodeType && k.f.oc(e), s(e, n, l(t), !0) }, k.Ic = function (e, t, a) { return a = l(a), k.La(e, (o = a, u = e, "function" == typeof (i = t) ? r(i.bind(null, o, u)) : k.a.Ea(i, n)), a); var i, o, u }, k.hb = function (e, n) { 1 !== n.nodeType && 8 !== n.nodeType || u(l(e), n, !0) }, k.Ub = function (e, n) { if (!i && t.jQuery && (i = t.jQuery), n && 1 !== n.nodeType && 8 !== n.nodeType) throw Error("ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node"); n = n || t.document.body, c(l(e), n, !0) }, k.nb = function (n) { switch (n.nodeType) { case 1: case 8: var t = k.xc(n); if (t) return t; if (n.parentNode) return k.nb(n.parentNode) }return e }, k.Oc = function (n) { return (n = k.nb(n)) ? n.$data : e }, k.b("bindingHandlers", k.d), k.b("applyBindings", k.Ub), k.b("applyBindingsToDescendants", k.hb), k.b("applyBindingAccessorsToNode", k.La), k.b("applyBindingsToNode", k.Ic), k.b("contextFor", k.nb), k.b("dataFor", k.Oc) }(), function (e) { function n(n, i) { var o, u, c, s = a.hasOwnProperty(n) ? a[n] : e; s ? s.Y(i) : ((s = a[n] = new k.K).Y(i), c = function (e, t) { var i = !(!t || !t.synchronous); r[n] = { definition: e, dd: i }, delete a[n], o || i ? s.notifySubscribers(e) : k.Z.Za(function () { s.notifySubscribers(e) }) }, t("getConfig", [u = n], function (e) { e ? t("loadComponent", [u, e], function (n) { c(n, e) }) : c(null, null) }), o = !0) } function t(n, a, r, i) { i || (i = k.g.loaders.slice(0)); var o = i.shift(); if (o) { var u = o[n]; if (u) { var c = !1; if (u.apply(o, a.concat(function (e) { c ? r(null) : null !== e ? r(e) : t(n, a, r, i) })) !== e && (c = !0, !o.suppressLoaderExceptions)) throw Error("Component loaders must supply values by invoking the callback, not by returning values synchronously.") } else t(n, a, r, i) } else r(null) } var a = {}, r = {}; k.g = { get: function (t, a) { var i = r.hasOwnProperty(t) ? r[t] : e; i ? i.dd ? k.l.w(function () { a(i.definition) }) : k.Z.Za(function () { a(i.definition) }) : n(t, a) }, $b: function (e) { delete r[e] }, Nb: t }, k.g.loaders = [], k.b("components", k.g), k.b("components.get", k.g.get), k.b("components.clearCachedDefinition", k.g.$b) }(), function () { function e(e) { switch (k.a.A(e)) { case "script": return k.a.na(e.text); case "textarea": return k.a.na(e.value); case "template": if (n(e.content)) return k.a.wa(e.content.childNodes) }return k.a.wa(e.childNodes) } function n(e) { return t.DocumentFragment ? e instanceof DocumentFragment : e && 11 === e.nodeType } function r(e, n, a) { "string" == typeof n.require ? u || t.require ? (u || t.require)([n.require], a) : e("Uses require, but no AMD loader is present") : a(n) } function i(e) { return function (n) { throw Error("Component '" + e + "': " + n) } } var o = {}; k.g.register = function (e, n) { if (!n) throw Error("Invalid configuration for " + e); if (k.g.wb(e)) throw Error("Component " + e + " is already registered"); o[e] = n }, k.g.wb = function (e) { return o.hasOwnProperty(e) }, k.g.ud = function (e) { delete o[e], k.g.$b(e) }, k.g.cc = { getConfig: function (e, n) { n(o.hasOwnProperty(e) ? o[e] : null) }, loadComponent: function (e, n, t) { var a = i(e); r(a, n, function (n) { !function (e, n, t, a) { function i() { 0 == --u && a(o) } var o = {}, u = 2, s = t.template; t = t.viewModel, s ? r(n, s, function (n) { k.g.Nb("loadTemplate", [e, n], function (e) { o.template = e, i() }) }) : i(), t ? r(n, t, function (n) { k.g.Nb("loadViewModel", [e, n], function (e) { o[c] = e, i() }) }) : i() }(e, a, n, t) }) }, loadTemplate: function (r, o, u) { if (r = i(r), "string" == typeof o) u(k.a.na(o)); else if (o instanceof Array) u(o); else if (n(o)) u(k.a.W(o.childNodes)); else if (o.element) if (o = o.element, t.HTMLElement ? o instanceof HTMLElement : o && o.tagName && 1 === o.nodeType) u(e(o)); else if ("string" == typeof o) { var c = a.getElementById(o); c ? u(e(c)) : r("Cannot find element with ID " + o) } else r("Unknown element type: " + o); else r("Unknown template value: " + o) }, loadViewModel: function (e, n, t) { !function e(n, t, a) { if ("function" == typeof t) a(function (e) { return new t(e) }); else if ("function" == typeof t[c]) a(t[c]); else if ("instance" in t) { var r = t.instance; a(function () { return r }) } else "viewModel" in t ? e(n, t.viewModel, a) : n("Unknown viewModel value: " + t) }(i(e), n, t) } }; var c = "createViewModel"; k.b("components.register", k.g.register), k.b("components.isRegistered", k.g.wb), k.b("components.unregister", k.g.ud), k.b("components.defaultLoader", k.g.cc), k.g.loaders.push(k.g.cc), k.g.Ec = o }(), function () { k.g.getComponentNameForNode = function (e) { var n = k.a.A(e); if (k.g.wb(n) && (-1 != n.indexOf("-") || "[object HTMLUnknownElement]" == "" + e || 8 >= k.a.C && e.tagName === n)) return n }, k.g.Rb = function (e, n, a, r) { if (1 === n.nodeType) { var i = k.g.getComponentNameForNode(n); if (i) { if ((e = e || {}).component) throw Error('Cannot use the "component" binding on a custom element matching a component'); var o = { name: i, params: function (e, n) { if (a = e.getAttribute("params")) { var a = t.parseBindingsString(a, n, e, { valueAccessors: !0, bindingParams: !0 }), r = (a = k.a.Ea(a, function (n) { return k.m(n, null, { i: e }) }), k.a.Ea(a, function (n) { var t = n.p(); return n.ca() ? k.m({ read: function () { return k.a.c(n()) }, write: k.Da(t) && function (e) { n()(e) }, i: e }) : t })); return r.hasOwnProperty("$raw") || (r.$raw = a), r } return { $raw: {} } }(n, a) }; e.component = r ? function () { return o } : o } } return e }; var e, n, t = new k.S; 9 > k.a.C && (k.g.register = (n = k.g.register, function (e) { return a.createElement(e), n.apply(this, arguments) }), a.createDocumentFragment = (e = a.createDocumentFragment, function () { var n, t = e(), a = k.g.Ec; for (n in a) a.hasOwnProperty(n) && t.createElement(n); return t })) }(), M = 0, k.d.component = { init: function (e, n, t, a, r) { function i() { var e = o && o.dispose; "function" == typeof e && e.call(o), u = o = null } var o, u, c = k.a.W(k.f.childNodes(e)); return k.a.G.qa(e, i), k.m(function () { var t, a, s = k.a.c(n()); if ("string" == typeof s ? t = s : (t = k.a.c(s.name), a = k.a.c(s.params)), !t) throw Error("No component name specified"); var l = u = ++M; k.g.get(t, function (n) { if (u === l) { if (i(), !n) throw Error("Unknown component '" + t + "'"); !function (e, n, t) { if (!(n = n.template)) throw Error("Component '" + e + "' has no template"); e = k.a.wa(n), k.f.fa(t, e) }(t, n, e); var s = (d = e, p = c, h = a, (b = (f = n).createViewModel) ? b.call(f, h, { element: d, templateNodes: p }) : h); n = r.createChildContext(s, void 0, function (e) { e.$component = s, e.$componentTemplateNodes = c }), o = s, k.hb(n, e) } var f, d, p, h, b }) }, null, { i: e }), { controlsDescendantBindings: !0 } } }, k.f.aa.component = !0; var $ = { class: "className", for: "htmlFor" }; k.d.attr = { update: function (n, t) { var a = k.a.c(t()) || {}; k.a.D(a, function (t, a) { var r = !1 === (a = k.a.c(a)) || null === a || a === e; r && n.removeAttribute(t), 8 >= k.a.C && t in $ ? (t = $[t], r ? n.removeAttribute(t) : n[t] = a) : r || n.setAttribute(t, a.toString()), "name" === t && k.a.vc(n, r ? "" : a.toString()) }) } }, k.d.checked = { after: ["value", "attr"], init: function (n, t, a) { function r() { var e = n.checked, r = d ? i() : e; if (!k.xa.Va() && (!u || e)) { var o = k.l.w(t); if (s) { var c = l ? o.p() : o; f !== r ? (e && (k.a.ra(c, r, !0), k.a.ra(c, f, !1)), f = r) : k.a.ra(c, r, e), l && k.Da(o) && o(c) } else k.h.Ga(o, a, "checked", r, !0) } } var i = k.rc(function () { return a.has("checkedValue") ? k.a.c(a.get("checkedValue")) : a.has("value") ? k.a.c(a.get("value")) : n.value }), o = "checkbox" == n.type, u = "radio" == n.type; if (o || u) { var c = t(), s = o && k.a.c(c) instanceof Array, l = !(s && c.push && c.splice), f = s ? i() : e, d = u || s; u && !n.name && k.d.uniqueName.init(n, function () { return !0 }), k.m(r, null, { i: n }), k.a.q(n, "click", r), k.m(function () { var e = k.a.c(t()); n.checked = s ? 0 <= k.a.o(e, i()) : o ? e : i() === e }, null, { i: n }), c = e } } }, k.h.ga.checked = !0, k.d.checkedValue = { update: function (e, n) { e.value = k.a.c(n()) } }, k.d.css = { update: function (e, n) { var t = k.a.c(n()); null !== t && "object" == typeof t ? k.a.D(t, function (n, t) { t = k.a.c(t), k.a.fb(e, n, t) }) : (t = k.a.cb(String(t || "")), k.a.fb(e, e.__ko__cssValue, !1), e.__ko__cssValue = t, k.a.fb(e, t, !0)) } }, k.d.enable = { update: function (e, n) { var t = k.a.c(n()); t && e.disabled ? e.removeAttribute("disabled") : t || e.disabled || (e.disabled = !0) } }, k.d.disable = { update: function (e, n) { k.d.enable.update(e, function () { return !k.a.c(n()) }) } }, k.d.event = { init: function (e, n, t, a, r) { var i = n() || {}; k.a.D(i, function (i) { "string" == typeof i && k.a.q(e, i, function (e) { var o, u = n()[i]; if (u) { try { var c = k.a.W(arguments); a = r.$data, c.unshift(a), o = u.apply(a, c) } finally { !0 !== o && (e.preventDefault ? e.preventDefault() : e.returnValue = !1) } !1 === t.get(i + "Bubble") && (e.cancelBubble = !0, e.stopPropagation && e.stopPropagation()) } }) }) } }, k.d.foreach = { mc: function (e) { return function () { var n = e(), t = k.a.Bb(n); return t && "number" != typeof t.length ? (k.a.c(n), { foreach: t.data, as: t.as, includeDestroyed: t.includeDestroyed, afterAdd: t.afterAdd, beforeRemove: t.beforeRemove, afterRender: t.afterRender, beforeMove: t.beforeMove, afterMove: t.afterMove, templateEngine: k.X.vb }) : { foreach: n, templateEngine: k.X.vb } } }, init: function (e, n) { return k.d.template.init(e, k.d.foreach.mc(n)) }, update: function (e, n, t, a, r) { return k.d.template.update(e, k.d.foreach.mc(n), t, a, r) } }, k.h.va.foreach = !1, k.f.aa.foreach = !0, k.d.hasfocus = { init: function (e, n, t) { function a(a) { e.__ko_hasfocusUpdating = !0; var r = e.ownerDocument; if ("activeElement" in r) { var i; try { i = r.activeElement } catch (e) { i = r.body } a = i === e } r = n(), k.h.Ga(r, t, "hasfocus", a, !0), e.__ko_hasfocusLastValue = a, e.__ko_hasfocusUpdating = !1 } var r = a.bind(null, !0), i = a.bind(null, !1); k.a.q(e, "focus", r), k.a.q(e, "focusin", r), k.a.q(e, "blur", i), k.a.q(e, "focusout", i) }, update: function (e, n) { var t = !!k.a.c(n()); e.__ko_hasfocusUpdating || e.__ko_hasfocusLastValue === t || (t ? e.focus() : e.blur(), !t && e.__ko_hasfocusLastValue && e.ownerDocument.body.focus(), k.l.w(k.a.Fa, null, [e, t ? "focusin" : "focusout"])) } }, k.h.ga.hasfocus = !0, k.d.hasFocus = k.d.hasfocus, k.h.ga.hasFocus = !0, k.d.html = { init: function () { return { controlsDescendantBindings: !0 } }, update: function (e, n) { k.a.Eb(e, n()) } }, h("if"), h("ifnot", !1, !0), h("with", !0, !1, function (e, n) { return e.ac(n) }); var L = {}; k.d.options = { init: function (e) { if ("select" !== k.a.A(e)) throw Error("options binding applies only to SELECT elements"); for (; 0 < e.length;)e.remove(0); return { controlsDescendantBindings: !0 } }, update: function (n, t, a) { function r() { return k.a.Ma(n.options, function (e) { return e.selected }) } function i(e, n, t) { var a = typeof n; return "function" == a ? n(e) : "string" == a ? e[n] : t } function o(e, t) { if (h && l) k.j.ja(n, k.a.c(a.get("value")), !0); else if (p.length) { var r = 0 <= k.a.o(p, k.j.u(t[0])); k.a.wc(t[0], r), h && !r && k.l.w(k.a.Fa, null, [n, "change"]) } } var u = n.multiple, c = 0 != n.length && u ? n.scrollTop : null, s = k.a.c(t()), l = a.get("valueAllowUnset") && a.has("value"), f = a.get("optionsIncludeDestroyed"); t = {}; var d, p = []; l || (u ? p = k.a.ib(r(), k.j.u) : 0 <= n.selectedIndex && p.push(k.j.u(n.options[n.selectedIndex]))), s && (void 0 === s.length && (s = [s]), d = k.a.Ma(s, function (n) { return f || n === e || null === n || !k.a.c(n._destroy) }), a.has("optionsCaption") && null !== (s = k.a.c(a.get("optionsCaption"))) && s !== e && d.unshift(L)); var h = !1; t.beforeRemove = function (e) { n.removeChild(e) }, s = o, a.has("optionsAfterRender") && "function" == typeof a.get("optionsAfterRender") && (s = function (n, t) { o(0, t), k.l.w(a.get("optionsAfterRender"), null, [t[0], n !== L ? n : e]) }), k.a.Db(n, d, function (t, r, o) { return o.length && (p = !l && o[0].selected ? [k.j.u(o[0])] : [], h = !0), r = n.ownerDocument.createElement("option"), t === L ? (k.a.bb(r, a.get("optionsCaption")), k.j.ja(r, e)) : (o = i(t, a.get("optionsValue"), t), k.j.ja(r, k.a.c(o)), t = i(t, a.get("optionsText"), o), k.a.bb(r, t)), [r] }, t, s), k.l.w(function () { l ? k.j.ja(n, k.a.c(a.get("value")), !0) : (u ? p.length && r().length < p.length : p.length && 0 <= n.selectedIndex ? k.j.u(n.options[n.selectedIndex]) !== p[0] : p.length || 0 <= n.selectedIndex) && k.a.Fa(n, "change") }), k.a.Sc(n), c && 20 < Math.abs(c - n.scrollTop) && (n.scrollTop = c) } }, k.d.options.zb = k.a.e.J(), k.d.selectedOptions = { after: ["options", "foreach"], init: function (e, n, t) { k.a.q(e, "change", function () { var a = n(), r = []; k.a.r(e.getElementsByTagName("option"), function (e) { e.selected && r.push(k.j.u(e)) }), k.h.Ga(a, t, "selectedOptions", r) }) }, update: function (e, n) { if ("select" != k.a.A(e)) throw Error("values binding applies only to SELECT elements"); var t = k.a.c(n()), a = e.scrollTop; t && "number" == typeof t.length && k.a.r(e.getElementsByTagName("option"), function (e) { var n = 0 <= k.a.o(t, k.j.u(e)); e.selected != n && k.a.wc(e, n) }), e.scrollTop = a } }, k.h.ga.selectedOptions = !0, k.d.style = { update: function (n, t) { var a = k.a.c(t() || {}); k.a.D(a, function (t, a) { null !== (a = k.a.c(a)) && a !== e && !1 !== a || (a = ""), n.style[t] = a }) } }, k.d.submit = { init: function (e, n, t, a, r) { if ("function" != typeof n()) throw Error("The value for a submit binding must be a function"); k.a.q(e, "submit", function (t) { var a, i = n(); try { a = i.call(r.$data, e) } finally { !0 !== a && (t.preventDefault ? t.preventDefault() : t.returnValue = !1) } }) } }, k.d.text = { init: function () { return { controlsDescendantBindings: !0 } }, update: function (e, n) { k.a.bb(e, n()) } }, k.f.aa.text = !0, function () { if (t && t.navigator) var n = function (e) { if (e) return parseFloat(e[1]) }, a = t.opera && t.opera.version && parseInt(t.opera.version()), r = t.navigator.userAgent, i = n(r.match(/^(?:(?!chrome).)*version\/([^ ]*) safari/i)), o = n(r.match(/Firefox\/([^ ]*)/)); if (10 > k.a.C) var u = k.a.e.J(), c = k.a.e.J(), s = function (e) { var n = this.activeElement; (n = n && k.a.e.get(n, c)) && n(e) }, l = function (e, n) { var t = e.ownerDocument; k.a.e.get(t, u) || (k.a.e.set(t, u, !0), k.a.q(t, "selectionchange", s)), k.a.e.set(e, c, n) }; k.d.textInput = { init: function (n, t, r) { function u(e, t) { k.a.q(n, e, t) } function c() { f || (d = n.value, f = k.a.setTimeout(s, 4)) } function s() { clearTimeout(f), d = f = e; var a = n.value; p !== a && (p = a, k.h.Ga(t(), r, "textInput", a)) } var f, d, p = n.value, h = 9 == k.a.C ? c : s; 10 > k.a.C ? (u("propertychange", function (e) { "value" === e.propertyName && h(e) }), 8 == k.a.C && (u("keyup", s), u("keydown", s)), 8 <= k.a.C && (l(n, h), u("dragend", c))) : (u("input", s), 5 > i && "textarea" === k.a.A(n) ? (u("keydown", c), u("paste", c), u("cut", c)) : 11 > a ? u("keydown", c) : 4 > o && (u("DOMAutoComplete", s), u("dragdrop", s), u("drop", s))), u("change", s), k.m(function a() { var r = k.a.c(t()); null !== r && r !== e || (r = ""), d !== e && r === d ? k.a.setTimeout(a, 4) : n.value !== r && (p = r, n.value = r) }, null, { i: n }) } }, k.h.ga.textInput = !0, k.d.textinput = { preprocess: function (e, n, t) { t("textInput", e) } } }(), k.d.uniqueName = { init: function (e, n) { if (n()) { var t = "ko_unique_" + ++k.d.uniqueName.Nc; k.a.vc(e, t) } } }, k.d.uniqueName.Nc = 0, k.d.value = { after: ["options", "foreach"], init: function (e, n, t) { if ("input" != e.tagName.toLowerCase() || "checkbox" != e.type && "radio" != e.type) { var a = ["change"], r = t.get("valueUpdate"), i = !1, o = null; r && ("string" == typeof r && (r = [r]), k.a.ta(a, r), a = k.a.Wb(a)); var u = function () { o = null, i = !1; var a = n(), r = k.j.u(e); k.h.Ga(a, t, "value", r) }; !k.a.C || "input" != e.tagName.toLowerCase() || "text" != e.type || "off" == e.autocomplete || e.form && "off" == e.form.autocomplete || -1 != k.a.o(a, "propertychange") || (k.a.q(e, "propertychange", function () { i = !0 }), k.a.q(e, "focus", function () { i = !1 }), k.a.q(e, "blur", function () { i && u() })), k.a.r(a, function (n) { var t = u; k.a.sd(n, "after") && (t = function () { o = k.j.u(e), k.a.setTimeout(u, 0) }, n = n.substring(5)), k.a.q(e, n, t) }); var c = function () { var a = k.a.c(n()), r = k.j.u(e); if (null !== o && a === o) k.a.setTimeout(c, 0); else if (a !== r) if ("select" === k.a.A(e)) { var i = t.get("valueAllowUnset"); (r = function () { k.j.ja(e, a, i) })(), i || a === k.j.u(e) ? k.a.setTimeout(r, 0) : k.l.w(k.a.Fa, null, [e, "change"]) } else k.j.ja(e, a) }; k.m(c, null, { i: e }) } else k.La(e, { checkedValue: n }) }, update: function () { } }, k.h.ga.value = !0, k.d.visible = { update: function (e, n) { var t = k.a.c(n()), a = "none" != e.style.display; t && !a ? e.style.display = "" : !t && a && (e.style.display = "none") } }, k.d.click = { init: function (e, n, t, a, r) { return k.d.event.init.call(this, e, function () { var e = {}; return e.click = n(), e }, t, a, r) } }, k.P = function () { }, k.P.prototype.renderTemplateSource = function () { throw Error("Override renderTemplateSource") }, k.P.prototype.createJavaScriptEvaluatorBlock = function () { throw Error("Override createJavaScriptEvaluatorBlock") }, k.P.prototype.makeTemplateSource = function (e, n) { if ("string" == typeof e) { var t = (n = n || a).getElementById(e); if (!t) throw Error("Cannot find template with ID " + e); return new k.v.n(t) } if (1 == e.nodeType || 8 == e.nodeType) return new k.v.sa(e); throw Error("Unknown template type: " + e) }, k.P.prototype.renderTemplate = function (e, n, t, a) { return e = this.makeTemplateSource(e, a), this.renderTemplateSource(e, n, t, a) }, k.P.prototype.isTemplateRewritten = function (e, n) { return !1 === this.allowTemplateRewriting || this.makeTemplateSource(e, n).data("isRewritten") }, k.P.prototype.rewriteTemplate = function (e, n, t) { n = n((e = this.makeTemplateSource(e, t)).text()), e.text(n), e.data("isRewritten", !0) }, k.b("templateEngine", k.P), k.Ib = function () { function e(e, n, t, a) { e = k.h.Ab(e); for (var r = k.h.va, i = 0; i < e.length; i++) { var o = e[i].key; if (r.hasOwnProperty(o)) { var u = r[o]; if ("function" == typeof u) { if (o = u(e[i].value)) throw Error(o) } else if (!u) throw Error("This template engine does not support the '" + o + "' binding within its templates") } } return t = "ko.__tr_ambtns(function($context,$element){return(function(){return{ " + k.h.Xa(e, { valueAccessors: !0 }) + " } })()},'" + t.toLowerCase() + "')", a.createJavaScriptEvaluatorBlock(t) + n } var n = /(<([a-z]+\d*)(?:\s+(?!data-bind\s*=\s*)[a-z0-9\-]+(?:=(?:\"[^\"]*\"|\'[^\']*\'|[^>]*))?)*\s+)data-bind\s*=\s*(["'])([\s\S]*?)\3/gi, t = /\x3c!--\s*ko\b\s*([\s\S]*?)\s*--\x3e/g; return { Tc: function (e, n, t) { n.isTemplateRewritten(e, t) || n.rewriteTemplate(e, function (e) { return k.Ib.jd(e, n) }, t) }, jd: function (a, r) { return a.replace(n, function (n, t, a, i, o) { return e(o, t, a, r) }).replace(t, function (n, t) { return e(t, "\x3c!-- ko --\x3e", "#comment", r) }) }, Jc: function (e, n) { return k.N.yb(function (t, a) { var r = t.nextSibling; r && r.nodeName.toLowerCase() === n && k.La(r, e, a) }) } } }(), k.b("__tr_ambtns", k.Ib.Jc), function () { k.v = {}, k.v.n = function (e) { if (this.n = e) { var n = k.a.A(e); this.eb = "script" === n ? 1 : "textarea" === n ? 2 : "template" == n && e.content && 11 === e.content.nodeType ? 3 : 4 } }, k.v.n.prototype.text = function () { var e = 1 === this.eb ? "text" : 2 === this.eb ? "value" : "innerHTML"; if (0 == arguments.length) return this.n[e]; var n = arguments[0]; "innerHTML" === e ? k.a.Eb(this.n, n) : this.n[e] = n }; var n = k.a.e.J() + "_"; k.v.n.prototype.data = function (e) { if (1 === arguments.length) return k.a.e.get(this.n, n + e); k.a.e.set(this.n, n + e, arguments[1]) }; var t = k.a.e.J(); k.v.n.prototype.nodes = function () { var n = this.n; if (0 == arguments.length) return (k.a.e.get(n, t) || {}).mb || (3 === this.eb ? n.content : 4 === this.eb ? n : e); k.a.e.set(n, t, { mb: arguments[0] }) }, k.v.sa = function (e) { this.n = e }, k.v.sa.prototype = new k.v.n, k.v.sa.prototype.text = function () { if (0 == arguments.length) { var n = k.a.e.get(this.n, t) || {}; return n.Jb === e && n.mb && (n.Jb = n.mb.innerHTML), n.Jb } k.a.e.set(this.n, t, { Jb: arguments[0] }) }, k.b("templateSources", k.v), k.b("templateSources.domElement", k.v.n), k.b("templateSources.anonymousTemplate", k.v.sa) }(), function () { function n(e, n, t) { var a; for (n = k.f.nextSibling(n); e && (a = e) !== n;)e = k.f.nextSibling(a), t(a, e) } function t(e, t) { if (e.length) { var a = e[0], r = e[e.length - 1], i = a.parentNode, o = k.S.instance, u = o.preprocessNode; if (u) { if (n(a, r, function (e, n) { var t = e.previousSibling, i = u.call(o, e); i && (e === a && (a = i[0] || n), e === r && (r = i[i.length - 1] || t)) }), e.length = 0, !a) return; a === r ? e.push(a) : (e.push(a, r), k.a.Ba(e, i)) } n(a, r, function (e) { 1 !== e.nodeType && 8 !== e.nodeType || k.Ub(t, e) }), n(a, r, function (e) { 1 !== e.nodeType && 8 !== e.nodeType || k.N.Cc(e, [t]) }), k.a.Ba(e, i) } } function a(e) { return e.nodeType ? e : 0 < e.length ? e[0] : null } function r(e, n, r, i, u) { u = u || {}; var c = (e && a(e) || r || {}).ownerDocument, s = u.templateEngine || o; if (k.Ib.Tc(r, s, c), "number" != typeof (r = s.renderTemplate(r, i, u, c)).length || 0 < r.length && "number" != typeof r[0].nodeType) throw Error("Template engine must return an array of DOM nodes"); switch (c = !1, n) { case "replaceChildren": k.f.fa(e, r), c = !0; break; case "replaceNode": k.a.uc(e, r), c = !0; break; case "ignoreTargetNode": break; default: throw Error("Unknown renderMode: " + n) }return c && (t(r, i), u.afterRender && k.l.w(u.afterRender, null, [r, i.$data])), r } function i(e, n, t) { return k.I(e) ? e() : "function" == typeof e ? e(n, t) : e } var o; k.Fb = function (n) { if (n != e && !(n instanceof k.P)) throw Error("templateEngine must inherit from ko.templateEngine"); o = n }, k.Cb = function (n, t, u, c, s) { if (((u = u || {}).templateEngine || o) == e) throw Error("Set a template engine before calling renderTemplate"); if (s = s || "replaceChildren", c) { var l = a(c); return k.B(function () { var e = t && t instanceof k.R ? t : new k.R(t, null, null, null, { exportDependencies: !0 }), o = i(n, e.$data, e); e = r(c, s, o, e, u), "replaceNode" == s && (l = a(c = e)) }, null, { ya: function () { return !l || !k.a.qb(l) }, i: l && "replaceNode" == s ? l.parentNode : l }) } return k.N.yb(function (e) { k.Cb(n, t, u, e, "replaceNode") }) }, k.pd = function (n, a, o, u, c) { function s(e, n) { t(n, f), o.afterRender && o.afterRender(n, e), f = null } function l(e, t) { return f = c.createChildContext(e, o.as, function (e) { e.$index = t }), r(null, "ignoreTargetNode", i(n, e, f), f, o) } var f; return k.B(function () { var n = k.a.c(a) || []; void 0 === n.length && (n = [n]), n = k.a.Ma(n, function (n) { return o.includeDestroyed || n === e || null === n || !k.a.c(n._destroy) }), k.l.w(k.a.Db, null, [u, n, l, o, s]) }, null, { i: u }) }; var u = k.a.e.J(); k.d.template = { init: function (e, n) { var t = k.a.c(n()); if ("string" == typeof t || t.name) k.f.za(e); else { if ("nodes" in t) { if (t = t.nodes || [], k.I(t)) throw Error('The "nodes" option must be a plain, non-observable array.') } else t = k.f.childNodes(e); t = k.a.nc(t), new k.v.sa(e).nodes(t) } return { controlsDescendantBindings: !0 } }, update: function (n, t, a, r, i) { var o = t(); a = !0, r = null, "string" == typeof (t = k.a.c(o)) ? t = {} : (o = t.name, "if" in t && (a = k.a.c(t.if)), a && "ifnot" in t && (a = !k.a.c(t.ifnot))), "foreach" in t ? r = k.pd(o || n, a && t.foreach || [], t, n, i) : a ? (i = "data" in t ? i.ac(t.data, t.as) : i, r = k.Cb(o || n, i, t, n)) : k.f.za(n), i = r, (t = k.a.e.get(n, u)) && "function" == typeof t.k && t.k(), k.a.e.set(n, u, i && i.ca() ? i : e) } }, k.h.va.template = function (e) { return 1 == (e = k.h.Ab(e)).length && e[0].unknown || k.h.fd(e, "name") ? null : "This template engine does not support anonymous templates nested within its templates" }, k.f.aa.template = !0 }(), k.b("setTemplateEngine", k.Fb), k.b("renderTemplate", k.Cb), k.a.hc = function (e, n, t) { var a, r, i, o, u; if (e.length && n.length) for (a = r = 0; (!t || a < t) && (o = e[r]); ++r) { for (i = 0; u = n[i]; ++i)if (o.value === u.value) { o.moved = u.index, u.moved = o.index, n.splice(i, 1), a = i = 0; break } a += i } }, k.a.lb = function () { function e(e, n, t, a, r) { var i, o, u, c, s, l = Math.min, f = Math.max, d = [], p = e.length, h = n.length, b = h - p || 1, v = p + h + 1; for (i = 0; i <= p; i++)for (c = u, d.push(u = []), s = l(h, i + b), o = f(0, i - 1); o <= s; o++)u[o] = o ? i ? e[i - 1] === n[o - 1] ? c[o - 1] : l(c[o] || v, u[o - 1] || v) + 1 : o + 1 : i + 1; for (l = [], f = [], b = [], i = p, o = h; i || o;)h = d[i][o] - 1, o && h === d[i][o - 1] ? f.push(l[l.length] = { status: t, value: n[--o], index: o }) : i && h === d[i - 1][o] ? b.push(l[l.length] = { status: a, value: e[--i], index: i }) : (--o, --i, r.sparse || l.push({ status: "retained", value: n[o] })); return k.a.hc(b, f, !r.dontLimitMoves && 10 * p), l.reverse() } return function (n, t, a) { return a = "boolean" == typeof a ? { dontLimitMoves: a } : a || {}, n = n || [], t = t || [], n.length < t.length ? e(n, t, "added", "deleted", a) : e(t, n, "deleted", "added", a) } }(), k.b("utils.compareArrays", k.a.lb), function () { function n(n, t, a, r, i) { var o = [], u = k.B(function () { var e = t(a, i, k.a.Ba(o, n)) || []; 0 < o.length && (k.a.uc(o, e), r && k.l.w(r, null, [a, e, i])), o.length = 0, k.a.ta(o, e) }, null, { i: n, ya: function () { return !k.a.Tb(o) } }); return { ea: o, B: u.ca() ? u : e } } var t = k.a.e.J(), a = k.a.e.J(); k.a.Db = function (r, i, o, u, c) { function s(e, n) { x = p[n], m !== n && (C[e] = x), x.tb(m++), k.a.Ba(x.ea, r), v.push(x), w.push(x) } function l(e, n) { if (e) for (var t = 0, a = n.length; t < a; t++)n[t] && k.a.r(n[t].ea, function (a) { e(a, t, n[t].ka) }) } i = i || [], u = u || {}; var f, d = k.a.e.get(r, t) === e, p = k.a.e.get(r, t) || [], h = k.a.ib(p, function (e) { return e.ka }), b = k.a.lb(h, i, u.dontLimitMoves), v = [], g = 0, m = 0, y = [], w = []; i = []; for (var x, E, T, C = [], N = (h = [], 0); E = b[N]; N++)switch (T = E.moved, E.status) { case "deleted": T === e && ((x = p[g]).B && (x.B.k(), x.B = e), k.a.Ba(x.ea, r).length && (u.beforeRemove && (v.push(x), w.push(x), x.ka === a ? x = null : i[N] = x), x && y.push.apply(y, x.ea))), g++; break; case "retained": s(N, g++); break; case "added": T !== e ? s(N, T) : (x = { ka: E.value, tb: k.O(m++) }, v.push(x), w.push(x), d || (h[N] = x)) }for (k.a.e.set(r, t, v), l(u.beforeMove, C), k.a.r(y, u.beforeRemove ? k.ba : k.removeNode), N = 0, d = k.f.firstChild(r); x = w[N]; N++) { for (x.ea || k.a.extend(x, n(r, o, x.ka, c, x.tb)), g = 0; b = x.ea[g]; d = b.nextSibling, f = b, g++)b !== d && k.f.kc(r, b, f); !x.ad && c && (c(x.ka, x.ea, x.tb), x.ad = !0) } for (l(u.beforeRemove, i), N = 0; N < i.length; ++N)i[N] && (i[N].ka = a); l(u.afterMove, C), l(u.afterAdd, h) } }(), k.b("utils.setDomNodeChildrenFromArrayMapping", k.a.Db), k.X = function () { this.allowTemplateRewriting = !1 }, k.X.prototype = new k.P, k.X.prototype.renderTemplateSource = function (e, n, t, a) { return (n = 9 > k.a.C || !e.nodes ? null : e.nodes()) ? k.a.W(n.cloneNode(!0).childNodes) : (e = e.text(), k.a.na(e, a)) }, k.X.vb = new k.X, k.Fb(k.X.vb), k.b("nativeTemplateEngine", k.X), function () { k.xb = function () { var e = this.ed = function () { if (!i || !i.tmpl) return 0; try { if (0 <= i.tmpl.tag.tmpl.open.toString().indexOf("__")) return 2 } catch (e) { } return 1 }(); this.renderTemplateSource = function (n, t, r, o) { if (o = o || a, r = r || {}, 2 > e) throw Error("Your version of jQuery.tmpl is too old. Please upgrade to jQuery.tmpl 1.0.0pre or later."); var u = n.data("precompiled"); return u || (u = n.text() || "", u = i.template(null, "{{ko_with $item.koBindingContext}}" + u + "{{/ko_with}}"), n.data("precompiled", u)), n = [t.$data], t = i.extend({ koBindingContext: t }, r.templateOptions), (t = i.tmpl(u, n, t)).appendTo(o.createElement("div")), i.fragments = {}, t }, this.createJavaScriptEvaluatorBlock = function (e) { return "{{ko_code ((function() { return " + e + " })()) }}" }, this.addTemplate = function (e, n) { a.write("<script type='text/html' id='" + e + "'>" + n + "<\/script>") }, 0 < e && (i.tmpl.tag.ko_code = { open: "__.push($1 || '');" }, i.tmpl.tag.ko_with = { open: "with($1) {", close: "} " }) }, k.xb.prototype = new k.P; var e = new k.xb; 0 < e.ed && k.Fb(e), k.b("jqueryTmplTemplateEngine", k.xb) }() }, "function" == typeof define && define.amd ? define(["exports", "require"], n) : "object" == typeof exports && "object" == typeof module ? n(module.exports || exports) : n(t.ko = {}) }();